{"version":3,"file":"js/442.fe384c71.js","mappings":"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","sources":["webpack://frontend-web/./src/components/common/DataList.vue","webpack://frontend-web/./src/components/common/DataList.vue?23d0","webpack://frontend-web/./src/views/TestEnv.vue","webpack://frontend-web/./src/views/TestEnv.vue?ff5b"],"sourcesContent":["<template>\n\t<div class=\"data_box\">\n\t\t<div class=\"title\">{{ name }}</div>\n\t\t<el-scrollbar height=\"calc(100vh - 104px);\">\n\t\t\t<el-menu default-active=\"1\" class=\"el-menu-vertical-demo\" active-text-color=\"#00aa7f\" text-color=\"#000000\" style=\"background: none;border: none;\">\n\t\t\t\t<el-menu-item @click=\"selectEmit(item.id)\" :index=\"item.id.toString()\" v-for=\"item in datas\" style=\"height: 35px;line-height: 35px;\">\n\t\t\t\t\t<span :class=\"icon\"></span>\n\t\t\t\t\t<span>{{ item.name }}</span>\n\t\t\t\t</el-menu-item>\n\t\t\t\t<el-menu-item @click=\"addEmit\" style=\"height: 35px;line-height:35px;color: #00aaff;font-size: 14px;\">\n\t\t\t\t\t<span class=\"el-icon-plus\"></span>\n\t\t\t\t\t<span>添加</span>\n\t\t\t\t</el-menu-item>\n\t\t\t</el-menu>\n\t\t</el-scrollbar>\n\t</div>\n</template>\n\n<script>\nexport default {\n\tprops: ['datas', 'name', 'icon','active'],\n\temits: ['select', 'add'],\n\tmethods: {\n\t\tselectEmit(index) {\n\t\t\tthis.$emit('select', index);\n\t\t},\n\t\taddEmit() {\n\t\t\tthis.$emit('add');\n\t\t}\n\t},\n\tcomputed:{\n\t\tactiveItem(){\n\t\t\tif (this.active) return this.active.toString()\n\t\t}\n\t}\n\t\n};\n</script>\n\n<style scoped>\n.data_box {\n\t/* width: 180px; */\n\tbox-shadow: 0 0 5px #00aa7f;\n}\n.title {\n\ttext-align: center;\n\tfont: bold 20px/40px 'microsoft yahei';\n\tborder-bottom: solid 3px #878787;\n}\n</style>\n","import { render } from \"./DataList.vue?vue&type=template&id=494cf154&scoped=true\"\nimport script from \"./DataList.vue?vue&type=script&lang=js\"\nexport * from \"./DataList.vue?vue&type=script&lang=js\"\n\nimport \"./DataList.vue?vue&type=style&index=0&id=494cf154&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-494cf154\"]])\n\nexport default __exports__","<template>\r\n\t<el-row :gutter=\"10\">\r\n\t\t<el-col :span=\"4\">\r\n\t\t\t<div class=\"data_box\">\r\n          <el-tabs type=\"border-card\" stretch>\r\n\t\t\t\t\t<el-tab-pane label=\"测试环境\">\r\n          </el-tab-pane>\r\n          </el-tabs>\r\n\t\t\t\t<el-button @click=\"addEnv\" type=\"success\" plain size=\"mini\" style=\"width: 100%;\" icon=\"el-icon-plus\">添加测试环境</el-button>\r\n\t\t\t\t<el-scrollbar height=\"calc(100vh - 124px);\">\r\n\t\t\t\t\t<el-menu :default-active=\"active\" class=\"el-menu-vertical-demo\" active-text-color=\"#409eff\" text-color=\"#000000\" style=\"background: none;border: none;\">\r\n\t\t\t\t\t\t<el-menu-item  @click='selectEnv(item)' :index=\"item.id.toString()\" v-for=\"item in testEnvs\" style=\"height: 35px;line-height: 35px;\">\r\n\t\t\t\t\t\t\t<span class=\"el-icon-coin\"></span>\r\n\t\t\t\t\t\t\t<span>{{ item.name }}</span>\r\n\t\t\t\t\t\t</el-menu-item>\r\n\t\t\t\t\t</el-menu>\r\n\t\t\t\t</el-scrollbar>\r\n\t\t\t</div>\r\n\t\t</el-col>\r\n\t\t<el-col :span=\"8\" v-if=\"EnvInfo\">\r\n\t\t\t<el-scrollbar height=\"calc(100vh - 80px )\">\r\n\t\t\t\t<el-divider content-position=\"left\"><b>基本信息</b></el-divider>\r\n\t\t\t\t<el-input v-model=\"EnvInfo.name\" placeholder=\"环境名称\" size=\"mini\">\r\n\t\t\t\t\t<template #prepend>\r\n\t\t\t\t\t\t环境名\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</el-input>\r\n\t\t\t\t<el-input v-model=\"EnvInfo.host\" placeholder=\"hots地址\" size=\"mini\" style=\"margin-top: 5px;\">\r\n\t\t\t\t\t<template #prepend>\r\n\t\t\t\t\t\t服务器域名\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</el-input>\r\n\t\t\t\t<el-divider content-position=\"left\"><b>基本配置</b></el-divider>\r\n\t\t\t\t<el-tabs type=\"border-card\" class=\"demo-tabs\">\r\n\t\t\t\t\t<el-tab-pane label=\"全局请求头\"><Editor v-model=\"EnvInfo.headers\" height=\"250px\"></Editor></el-tab-pane>\r\n\t\t\t\t\t<el-tab-pane label=\"数据库配置\"><Editor v-model=\"EnvInfo.db\" height=\"250px\"></Editor></el-tab-pane>\r\n\t\t\t\t</el-tabs>\r\n\t\t\t\t<el-divider content-position=\"left\"><b>全局变量</b></el-divider>\r\n\t\t\t\t<el-tabs type=\"border-card\" class=\"demo-tabs\">\r\n\t\t\t\t\t<el-tab-pane label=\"全局变量\"><Editor v-model=\"EnvInfo.global_variable\" height=\"250px\"></Editor></el-tab-pane>\r\n\t\t\t\t\t<el-tab-pane label=\"调试运行变量\"><Editor v-model=\"EnvInfo.debug_global_variable\" height=\"250px\"></Editor></el-tab-pane>\r\n\t\t\t\t</el-tabs>\r\n\t\t\t\t<div :offset=\"20\" style=\"text-align: center;margin-top: 5px\" v-if=\"EnvInfo\">\r\n\t\t\t\t\t<el-button @click='saveEnv' type=\"success\" plain icon=\"el-icon-circle-check\">保存编辑</el-button>\r\n\t\t\t\t\t<el-button @click='copyEnv' type=\"success\" plain icon=\"el-icon-circle-check\">复制环境</el-button>\r\n\t\t\t\t\t<el-button @click=\"delEnv\" type=\"danger\" plain icon=\"el-icon-delete\">删除环境</el-button>\r\n\t\t\t\t</div>\r\n\t\t\t</el-scrollbar>\r\n\t\t</el-col>\r\n\t\t<el-col :span=\"12\" v-if=\"EnvInfo\"><Editor v-model=\"EnvInfo.global_func\" height=\"calc(100vh - 65px)\" lang=\"python\" theme=\"monokai\"></Editor></el-col>\r\n    <el-col class=\"container\" :span=\"20\" v-if=\"this.testEnvs.length===0\">\r\n      <el-empty>\r\n          <el-button type=\"primary\" @click=\"addEnv\">添加测试环境</el-button>\r\n      </el-empty>\r\n    </el-col>\r\n  </el-row>\r\n</template>\r\n\r\n<script>\r\n/*\r\n功能实现:\r\n\t测试环境的增删查改\r\n*/ \r\nimport { mapState, mapActions } from 'vuex';\r\nimport DataList from '../components/common/DataList.vue';\r\nimport Editor from '../components/common/Editor.vue';\r\nimport { ElMessage, ElMessageBox } from 'element-plus';\r\nexport default {\r\n\tcomponents: {\r\n\t\tDataList,\r\n\t\tEditor\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tactive: '1',\r\n\t\t\tEnvInfo: null,\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapState(['pro', 'testEnvs'])\r\n\t},\r\n\tmethods: {\r\n\t\t...mapActions(['getAllEnvs']),\r\n\t\t// 创建环境\r\n\t\tasync addEnv() {\r\n\t\t\tconst params = {project :this.pro.id,name:\"New Env\"}\r\n\t\t\tconst response = await this.$api.createTestEnvs(params);\r\n\t\t\tif (response.status === 201) {\r\n\t\t\t\tthis.$message({\r\n\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\tmessage: '添加成功',\r\n\t\t\t\t\tduration: 1000\r\n\t\t\t\t});\r\n\t\t\t\tthis.getAllEnvs();\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 删除环境\r\n\t\tasync delEnv() {\r\n\t\t\tElMessageBox.confirm('确定要删除吗?', '提示', {\r\n\t\t\t\tconfirmButtonText: '确定',\r\n\t\t\t\tcancelButtonText: '取消',\r\n\t\t\t\ttype: 'warning'\r\n\t\t\t})\r\n\t\t\t\t.then(async () => {\r\n\t\t\t\t\tconst response = await this.$api.delTestEnvs(this.EnvInfo.id);\r\n\t\t\t\t\tif (response.status === 204) {\r\n\t\t\t\t\t\tElMessage({\r\n\t\t\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\t\t\tmessage: '删除成功',\r\n\t\t\t\t\t\t\tduration: 1000\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.getAllEnvs();\r\n\t\t\t\t\t\t// 重新选中环境\r\n\t\t\t\t\t\tif (this.testEnvs.length > 0) {\r\n\t\t\t\t\t\t\t// 设置默认显示激活的测试场景\r\n\t\t\t\t\t\t\tthis.active = this.testEnvs[0].id.toString();\r\n\t\t\t\t\t\t\tthis.selectEnv(this.testEnvs[0]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.catch(() => {\r\n\t\t\t\t\tElMessage({\r\n\t\t\t\t\t\ttype: 'info',\r\n\t\t\t\t\t\tmessage: '取消删除',\r\n\t\t\t\t\t\tduration: 1000\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t},\r\n\r\n\t\t// 保存修改\r\n\t\tasync saveEnv(){\r\n\t\t\tlet params = {...this.EnvInfo}\r\n\t\t\tparams.headers = JSON.parse(this.EnvInfo.headers);\r\n\t\t\tparams.db = JSON.parse(this.EnvInfo.db);\r\n\t\t\tparams.debug_global_variable = JSON.parse(this.EnvInfo.debug_global_variable);\r\n\t\t\tparams.global_variable = JSON.parse(this.EnvInfo.global_variable);\r\n\t\t\tconst response = await this.$api.updateTestEnvs(params.id,params)\r\n\t\t\tif (response.status === 200) {\r\n\t\t\t\tthis.$message({\r\n\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\tmessage: '保存成功',\r\n\t\t\t\t\tduration: 1000\r\n\t\t\t\t});\r\n\t\t\t\tthis.getAllEnvs();\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 复制环境\r\n\t\tasync copyEnv(){\r\n\t\t\tlet params = {...this.EnvInfo}\r\n\t\t\tparams.name = params.name +'_COPY'\r\n\t\t\tparams.headers = JSON.parse(this.EnvInfo.headers);\r\n\t\t\tparams.db = JSON.parse(this.EnvInfo.db);\r\n\t\t\tparams.debug_global_variable = JSON.parse(this.EnvInfo.debug_global_variable);\r\n\t\t\tparams.global_variable = JSON.parse(this.EnvInfo.global_variable);\r\n\t\t\tconst response = await this.$api.createTestEnvs(params);\r\n\t\t\tif (response.status === 201) {\r\n\t\t\t\tthis.$message({\r\n\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\tmessage: '复制成功',\r\n\t\t\t\t\tduration: 1000\r\n\t\t\t\t});\r\n\t\t\t\tthis.getAllEnvs();\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 选中环境\r\n\t\tselectEnv(env) {\r\n\t\t\tthis.active = env.id.toString()\r\n\t\t\tthis.EnvInfo = { ...env };\r\n\t\t\tthis.EnvInfo.headers = JSON.stringify(this.EnvInfo.headers, null, 4);\r\n\t\t\tthis.EnvInfo.db = JSON.stringify(this.EnvInfo.db, null, 4);\r\n\t\t\tthis.EnvInfo.debug_global_variable = JSON.stringify(this.EnvInfo.debug_global_variable, null, 4);\r\n\t\t\tthis.EnvInfo.global_variable = JSON.stringify(this.EnvInfo.global_variable, null, 4);\r\n\t\t}\r\n\t},\r\n\tcreated() {\r\n\t\tthis.getAllEnvs();\r\n\t},\r\n\tmounted() {\r\n\t\tif (this.testEnvs.length > 0) {\r\n\t\t\t// 设置默认选中的测试场景\r\n\t\t\tthis.selectEnv(this.testEnvs[0]);\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.data_box {\r\n\tbox-shadow: 0 0 5px #dcdfe6;\r\n}\r\n.title {\r\n\ttext-align: center;\r\n\tfont: bold 16px/30px 'microsoft yahei';\r\n\theight: 30px;\r\n}\r\n.container {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    height: 70vh;\r\n  }\r\n</style>\r\n","import { render } from \"./TestEnv.vue?vue&type=template&id=16540305&scoped=true\"\nimport script from \"./TestEnv.vue?vue&type=script&lang=js\"\nexport * from \"./TestEnv.vue?vue&type=script&lang=js\"\n\nimport \"./TestEnv.vue?vue&type=style&index=0&id=16540305&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-16540305\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_toDisplayString","$props","name","_createVNode","_component_el_scrollbar","height","_component_el_menu","style","_Fragment","_renderList","datas","item","_createBlock","_component_el_menu_item","onClick","$event","$options","selectEmit","id","index","toString","_normalizeClass","icon","addEmit","_hoisted_3","_hoisted_4","props","emits","methods","this","$emit","computed","activeItem","active","__exports__","render","offset","_component_el_row","gutter","_component_el_col","span","_component_el_tabs","type","stretch","_component_el_tab_pane","label","_component_el_button","addEnv","plain","size","$data","_ctx","testEnvs","selectEnv","EnvInfo","_component_el_divider","_component_el_input","placeholder","prepend","_withCtx","host","_component_Editor","headers","db","_hoisted_5","global_variable","debug_global_variable","_hoisted_6","saveEnv","copyEnv","delEnv","global_func","lang","theme","length","_component_el_empty","components","DataList","Editor","data","mapState","mapActions","params","project","pro","response","$api","createTestEnvs","status","$message","message","duration","getAllEnvs","ElMessageBox","confirm","confirmButtonText","cancelButtonText","then","async","delTestEnvs","ElMessage","catch","JSON","parse","updateTestEnvs","env","stringify","created","mounted"],"sourceRoot":""}