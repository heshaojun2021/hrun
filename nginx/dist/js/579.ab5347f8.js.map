{"version":3,"file":"js/579.ab5347f8.js","mappings":"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","sources":["webpack://frontend-web/./node_modules/zdog/js/anchor.js","webpack://frontend-web/./node_modules/zdog/js/boilerplate.js","webpack://frontend-web/./node_modules/zdog/js/box.js","webpack://frontend-web/./node_modules/zdog/js/canvas-renderer.js","webpack://frontend-web/./node_modules/zdog/js/cone.js","webpack://frontend-web/./node_modules/zdog/js/cylinder.js","webpack://frontend-web/./node_modules/zdog/js/dragger.js","webpack://frontend-web/./node_modules/zdog/js/ellipse.js","webpack://frontend-web/./node_modules/zdog/js/group.js","webpack://frontend-web/./node_modules/zdog/js/hemisphere.js","webpack://frontend-web/./node_modules/zdog/js/illustration.js","webpack://frontend-web/./node_modules/zdog/js/index.js","webpack://frontend-web/./node_modules/zdog/js/path-command.js","webpack://frontend-web/./node_modules/zdog/js/polygon.js","webpack://frontend-web/./node_modules/zdog/js/rect.js","webpack://frontend-web/./node_modules/zdog/js/rounded-rect.js","webpack://frontend-web/./node_modules/zdog/js/shape.js","webpack://frontend-web/./node_modules/zdog/js/svg-renderer.js","webpack://frontend-web/./node_modules/zdog/js/vector.js"],"sourcesContent":["/**\n * Anchor\n */\n\n( function( root, factory ) {\n  // module definition\n  if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory( require('./boilerplate'), require('./vector'),\n        require('./canvas-renderer'), require('./svg-renderer') );\n  } else {\n    // browser global\n    var Zdog = root.Zdog;\n    Zdog.Anchor = factory( Zdog, Zdog.Vector, Zdog.CanvasRenderer,\n        Zdog.SvgRenderer );\n  }\n}( this, function factory( utils, Vector, CanvasRenderer, SvgRenderer ) {\n\nvar TAU = utils.TAU;\nvar onePoint = { x: 1, y: 1, z: 1 };\n\nfunction Anchor( options ) {\n  this.create( options || {} );\n}\n\nAnchor.prototype.create = function( options ) {\n  this.children = [];\n  // set defaults & options\n  utils.extend( this, this.constructor.defaults );\n  this.setOptions( options );\n\n  // transform\n  this.translate = new Vector( options.translate );\n  this.rotate = new Vector( options.rotate );\n  this.scale = new Vector( onePoint ).multiply( this.scale );\n  // origin\n  this.origin = new Vector();\n  this.renderOrigin = new Vector();\n\n  if ( this.addTo ) {\n    this.addTo.addChild( this );\n  }\n};\n\nAnchor.defaults = {};\n\nAnchor.optionKeys = Object.keys( Anchor.defaults ).concat([\n  'rotate',\n  'translate',\n  'scale',\n  'addTo',\n]);\n\nAnchor.prototype.setOptions = function( options ) {\n  var optionKeys = this.constructor.optionKeys;\n\n  for ( var key in options ) {\n    if ( optionKeys.indexOf( key ) != -1 ) {\n      this[ key ] = options[ key ];\n    }\n  }\n};\n\nAnchor.prototype.addChild = function( shape ) {\n  if ( this.children.indexOf( shape ) != -1 ) {\n    return;\n  }\n  shape.remove(); // remove previous parent\n  shape.addTo = this; // keep parent reference\n  this.children.push( shape );\n};\n\nAnchor.prototype.removeChild = function( shape ) {\n  var index = this.children.indexOf( shape );\n  if ( index != -1 ) {\n    this.children.splice( index, 1 );\n  }\n};\n\nAnchor.prototype.remove = function() {\n  if ( this.addTo ) {\n    this.addTo.removeChild( this );\n  }\n};\n\n// ----- update ----- //\n\nAnchor.prototype.update = function() {\n  // update self\n  this.reset();\n  // update children\n  this.children.forEach( function( child ) {\n    child.update();\n  } );\n  this.transform( this.translate, this.rotate, this.scale );\n};\n\nAnchor.prototype.reset = function() {\n  this.renderOrigin.set( this.origin );\n};\n\nAnchor.prototype.transform = function( translation, rotation, scale ) {\n  this.renderOrigin.transform( translation, rotation, scale );\n  // transform children\n  this.children.forEach( function( child ) {\n    child.transform( translation, rotation, scale );\n  } );\n};\n\nAnchor.prototype.updateGraph = function() {\n  this.update();\n  this.updateFlatGraph();\n  this.flatGraph.forEach( function( item ) {\n    item.updateSortValue();\n  } );\n  // z-sort\n  this.flatGraph.sort( Anchor.shapeSorter );\n};\n\nAnchor.shapeSorter = function( a, b ) {\n  return a.sortValue - b.sortValue;\n};\n\n// custom getter to check for flatGraph before using it\nObject.defineProperty( Anchor.prototype, 'flatGraph', {\n  get: function() {\n    if ( !this._flatGraph ) {\n      this.updateFlatGraph();\n    }\n    return this._flatGraph;\n  },\n  set: function( graph ) {\n    this._flatGraph = graph;\n  },\n} );\n\nAnchor.prototype.updateFlatGraph = function() {\n  this.flatGraph = this.getFlatGraph();\n};\n\n// return Array of self & all child graph items\nAnchor.prototype.getFlatGraph = function() {\n  var flatGraph = [ this ];\n  return this.addChildFlatGraph( flatGraph );\n};\n\nAnchor.prototype.addChildFlatGraph = function( flatGraph ) {\n  this.children.forEach( function( child ) {\n    var childFlatGraph = child.getFlatGraph();\n    Array.prototype.push.apply( flatGraph, childFlatGraph );\n  } );\n  return flatGraph;\n};\n\nAnchor.prototype.updateSortValue = function() {\n  this.sortValue = this.renderOrigin.z;\n};\n\n// ----- render ----- //\n\nAnchor.prototype.render = function() {};\n\n// TODO refactor out CanvasRenderer so its not a dependency within anchor.js\nAnchor.prototype.renderGraphCanvas = function( ctx ) {\n  if ( !ctx ) {\n    throw new Error( 'ctx is ' + ctx + '. ' +\n      'Canvas context required for render. Check .renderGraphCanvas( ctx ).' );\n  }\n  this.flatGraph.forEach( function( item ) {\n    item.render( ctx, CanvasRenderer );\n  } );\n};\n\nAnchor.prototype.renderGraphSvg = function( svg ) {\n  if ( !svg ) {\n    throw new Error( 'svg is ' + svg + '. ' +\n      'SVG required for render. Check .renderGraphSvg( svg ).' );\n  }\n  this.flatGraph.forEach( function( item ) {\n    item.render( svg, SvgRenderer );\n  } );\n};\n\n// ----- misc ----- //\n\nAnchor.prototype.copy = function( options ) {\n  // copy options\n  var itemOptions = {};\n  var optionKeys = this.constructor.optionKeys;\n  optionKeys.forEach( function( key ) {\n    itemOptions[ key ] = this[ key ];\n  }, this );\n  // add set options\n  utils.extend( itemOptions, options );\n  var ItemClass = this.constructor;\n  return new ItemClass( itemOptions );\n};\n\nAnchor.prototype.copyGraph = function( options ) {\n  var clone = this.copy( options );\n  this.children.forEach( function( child ) {\n    child.copyGraph({\n      addTo: clone,\n    });\n  } );\n  return clone;\n};\n\nAnchor.prototype.normalizeRotate = function() {\n  this.rotate.x = utils.modulo( this.rotate.x, TAU );\n  this.rotate.y = utils.modulo( this.rotate.y, TAU );\n  this.rotate.z = utils.modulo( this.rotate.z, TAU );\n};\n\n// ----- subclass ----- //\n\nfunction getSubclass( Super ) {\n  return function( defaults ) {\n    // create constructor\n    function Item( options ) {\n      this.create( options || {} );\n    }\n\n    Item.prototype = Object.create( Super.prototype );\n    Item.prototype.constructor = Item;\n\n    Item.defaults = utils.extend( {}, Super.defaults );\n    utils.extend( Item.defaults, defaults );\n    // create optionKeys\n    Item.optionKeys = Super.optionKeys.slice( 0 );\n    // add defaults keys to optionKeys, dedupe\n    Object.keys( Item.defaults ).forEach( function( key ) {\n      if ( !Item.optionKeys.indexOf( key ) != 1 ) {\n        Item.optionKeys.push( key );\n      }\n    } );\n\n    Item.subclass = getSubclass( Item );\n\n    return Item;\n  };\n}\n\nAnchor.subclass = getSubclass( Anchor );\n\nreturn Anchor;\n\n} ) );\n","/*!\n * Zdog v1.1.3\n * Round, flat, designer-friendly pseudo-3D engine\n * Licensed MIT\n * https://zzz.dog\n * Copyright 2020 Metafizzy\n */\n\n/**\n * Boilerplate & utils\n */\n\n( function( root, factory ) {\n  // module definition\n  if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory();\n  } else {\n    // browser global\n    root.Zdog = factory();\n  }\n}( this, function factory() {\n\nvar Zdog = {};\n\nZdog.TAU = Math.PI * 2;\n\nZdog.extend = function( a, b ) {\n  for ( var prop in b ) {\n    a[ prop ] = b[ prop ];\n  }\n  return a;\n};\n\nZdog.lerp = function( a, b, alpha ) {\n  return ( b - a ) * alpha + a;\n};\n\nZdog.modulo = function( num, div ) {\n  return ( ( num % div ) + div ) % div;\n};\n\nvar powerMultipliers = {\n  2: function( a ) {\n    return a * a;\n  },\n  3: function( a ) {\n    return a * a * a;\n  },\n  4: function( a ) {\n    return a * a * a * a;\n  },\n  5: function( a ) {\n    return a * a * a * a * a;\n  },\n};\n\nZdog.easeInOut = function( alpha, power ) {\n  if ( power == 1 ) {\n    return alpha;\n  }\n  alpha = Math.max( 0, Math.min( 1, alpha ) );\n  var isFirstHalf = alpha < 0.5;\n  var slope = isFirstHalf ? alpha : 1 - alpha;\n  slope /= 0.5;\n  // make easing steeper with more multiples\n  var powerMultiplier = powerMultipliers[ power ] || powerMultipliers[2];\n  var curve = powerMultiplier( slope );\n  curve /= 2;\n  return isFirstHalf ? curve : 1 - curve;\n};\n\nreturn Zdog;\n\n} ) );\n","/**\n * Box composite shape\n */\n\n( function( root, factory ) {\n  // module definition\n  if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory( require('./boilerplate'), require('./anchor'),\n        require('./shape'), require('./rect') );\n  } else {\n    // browser global\n    var Zdog = root.Zdog;\n    Zdog.Box = factory( Zdog, Zdog.Anchor, Zdog.Shape, Zdog.Rect );\n  }\n}( this, function factory( utils, Anchor, Shape, Rect ) {\n\n// ----- BoxRect ----- //\n\nvar BoxRect = Rect.subclass();\n// prevent double-creation in parent.copyGraph()\n// only create in Box.create()\nBoxRect.prototype.copyGraph = function() {};\n\n// ----- Box ----- //\n\nvar TAU = utils.TAU;\nvar faceNames = [\n  'frontFace',\n  'rearFace',\n  'leftFace',\n  'rightFace',\n  'topFace',\n  'bottomFace',\n];\n\nvar boxDefaults = utils.extend( {}, Shape.defaults );\ndelete boxDefaults.path;\nfaceNames.forEach( function( faceName ) {\n  boxDefaults[ faceName ] = true;\n} );\nutils.extend( boxDefaults, {\n  width: 1,\n  height: 1,\n  depth: 1,\n  fill: true,\n} );\n\nvar Box = Anchor.subclass( boxDefaults );\n\n/* eslint-disable no-self-assign */\nBox.prototype.create = function( options ) {\n  Anchor.prototype.create.call( this, options );\n  this.updatePath();\n  // HACK reset fill to trigger face setter\n  this.fill = this.fill;\n};\n\nBox.prototype.updatePath = function() {\n  // reset all faces to trigger setters\n  faceNames.forEach( function( faceName ) {\n    this[ faceName ] = this[ faceName ];\n  }, this );\n};\n/* eslint-enable no-self-assign */\n\nfaceNames.forEach( function( faceName ) {\n  var _faceName = '_' + faceName;\n  Object.defineProperty( Box.prototype, faceName, {\n    get: function() {\n      return this[ _faceName ];\n    },\n    set: function( value ) {\n      this[ _faceName ] = value;\n      this.setFace( faceName, value );\n    },\n  } );\n} );\n\nBox.prototype.setFace = function( faceName, value ) {\n  var rectProperty = faceName + 'Rect';\n  var rect = this[ rectProperty ];\n  // remove if false\n  if ( !value ) {\n    this.removeChild( rect );\n    return;\n  }\n  // update & add face\n  var options = this.getFaceOptions( faceName );\n  options.color = typeof value == 'string' ? value : this.color;\n\n  if ( rect ) {\n    // update previous\n    rect.setOptions( options );\n  } else {\n    // create new\n    rect = this[ rectProperty ] = new BoxRect( options );\n  }\n  rect.updatePath();\n  this.addChild( rect );\n};\n\nBox.prototype.getFaceOptions = function( faceName ) {\n  return {\n    frontFace: {\n      width: this.width,\n      height: this.height,\n      translate: { z: this.depth / 2 },\n    },\n    rearFace: {\n      width: this.width,\n      height: this.height,\n      translate: { z: -this.depth / 2 },\n      rotate: { y: TAU/2 },\n    },\n    leftFace: {\n      width: this.depth,\n      height: this.height,\n      translate: { x: -this.width / 2 },\n      rotate: { y: -TAU/4 },\n    },\n    rightFace: {\n      width: this.depth,\n      height: this.height,\n      translate: { x: this.width / 2 },\n      rotate: { y: TAU/4 },\n    },\n    topFace: {\n      width: this.width,\n      height: this.depth,\n      translate: { y: -this.height / 2 },\n      rotate: { x: -TAU/4 },\n    },\n    bottomFace: {\n      width: this.width,\n      height: this.depth,\n      translate: { y: this.height / 2 },\n      rotate: { x: TAU/4 },\n    },\n  }[ faceName ];\n};\n\n// ----- set face properties ----- //\n\nvar childProperties = [ 'color', 'stroke', 'fill', 'backface', 'front',\n  'visible' ];\nchildProperties.forEach( function( property ) {\n  // use proxy property for custom getter & setter\n  var _prop = '_' + property;\n  Object.defineProperty( Box.prototype, property, {\n    get: function() {\n      return this[ _prop ];\n    },\n    set: function( value ) {\n      this[ _prop ] = value;\n      faceNames.forEach( function( faceName ) {\n        var rect = this[ faceName + 'Rect' ];\n        var isFaceColor = typeof this[ faceName ] == 'string';\n        var isColorUnderwrite = property == 'color' && isFaceColor;\n        if ( rect && !isColorUnderwrite ) {\n          rect[ property ] = value;\n        }\n      }, this );\n    },\n  } );\n} );\n\nreturn Box;\n\n} ) );\n","/**\n * CanvasRenderer\n */\n\n( function( root, factory ) {\n  // module definition\n  if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory();\n  } else {\n    // browser global\n    root.Zdog.CanvasRenderer = factory();\n  }\n}( this, function factory() {\n\nvar CanvasRenderer = { isCanvas: true };\n\nCanvasRenderer.begin = function( ctx ) {\n  ctx.beginPath();\n};\n\nCanvasRenderer.move = function( ctx, elem, point ) {\n  ctx.moveTo( point.x, point.y );\n};\n\nCanvasRenderer.line = function( ctx, elem, point ) {\n  ctx.lineTo( point.x, point.y );\n};\n\nCanvasRenderer.bezier = function( ctx, elem, cp0, cp1, end ) {\n  ctx.bezierCurveTo( cp0.x, cp0.y, cp1.x, cp1.y, end.x, end.y );\n};\n\nCanvasRenderer.closePath = function( ctx ) {\n  ctx.closePath();\n};\n\nCanvasRenderer.setPath = function() {};\n\nCanvasRenderer.renderPath = function( ctx, elem, pathCommands, isClosed ) {\n  this.begin( ctx, elem );\n  pathCommands.forEach( function( command ) {\n    command.render( ctx, elem, CanvasRenderer );\n  } );\n  if ( isClosed ) {\n    this.closePath( ctx, elem );\n  }\n};\n\nCanvasRenderer.stroke = function( ctx, elem, isStroke, color, lineWidth ) {\n  if ( !isStroke ) {\n    return;\n  }\n  ctx.strokeStyle = color;\n  ctx.lineWidth = lineWidth;\n  ctx.stroke();\n};\n\nCanvasRenderer.fill = function( ctx, elem, isFill, color ) {\n  if ( !isFill ) {\n    return;\n  }\n  ctx.fillStyle = color;\n  ctx.fill();\n};\n\nCanvasRenderer.end = function() {};\n\nreturn CanvasRenderer;\n\n} ) );\n","/**\n * Cone composite shape\n */\n\n( function( root, factory ) {\n  // module definition\n  if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory( require('./boilerplate'), require('./vector'),\n        require('./path-command'), require('./anchor'), require('./ellipse') );\n  } else {\n    // browser global\n    var Zdog = root.Zdog;\n    Zdog.Cone = factory( Zdog, Zdog.Vector, Zdog.PathCommand,\n        Zdog.Anchor, Zdog.Ellipse );\n  }\n}( this, function factory( utils, Vector, PathCommand, Anchor, Ellipse ) {\n\nvar Cone = Ellipse.subclass({\n  length: 1,\n  fill: true,\n});\n\nvar TAU = utils.TAU;\n\nCone.prototype.create = function( /* options */) {\n  // call super\n  Ellipse.prototype.create.apply( this, arguments );\n  // composite shape, create child shapes\n  this.apex = new Anchor({\n    addTo: this,\n    translate: { z: this.length },\n  });\n\n  // vectors used for calculation\n  this.renderApex = new Vector();\n  this.renderCentroid = new Vector();\n  this.tangentA = new Vector();\n  this.tangentB = new Vector();\n\n  this.surfacePathCommands = [\n    new PathCommand( 'move', [ {} ] ), // points set in renderConeSurface\n    new PathCommand( 'line', [ {} ] ),\n    new PathCommand( 'line', [ {} ] ),\n  ];\n};\n\nCone.prototype.updateSortValue = function() {\n  // center of cone is one third of its length\n  this.renderCentroid.set( this.renderOrigin )\n    .lerp( this.apex.renderOrigin, 1/3 );\n  this.sortValue = this.renderCentroid.z;\n};\n\nCone.prototype.render = function( ctx, renderer ) {\n  this.renderConeSurface( ctx, renderer );\n  Ellipse.prototype.render.apply( this, arguments );\n};\n\nCone.prototype.renderConeSurface = function( ctx, renderer ) {\n  if ( !this.visible ) {\n    return;\n  }\n  this.renderApex.set( this.apex.renderOrigin )\n    .subtract( this.renderOrigin );\n\n  var scale = this.renderNormal.magnitude();\n  var apexDistance = this.renderApex.magnitude2d();\n  var normalDistance = this.renderNormal.magnitude2d();\n  // eccentricity\n  var eccenAngle = Math.acos( normalDistance/scale );\n  var eccen = Math.sin( eccenAngle );\n  var radius = this.diameter / 2 * scale;\n  // does apex extend beyond eclipse of face\n  var isApexVisible = radius * eccen < apexDistance;\n  if ( !isApexVisible ) {\n    return;\n  }\n  // update tangents\n  var apexAngle = Math.atan2( this.renderNormal.y, this.renderNormal.x ) +\n      TAU/2;\n  var projectLength = apexDistance/eccen;\n  var projectAngle = Math.acos( radius/projectLength );\n  // set tangent points\n  var tangentA = this.tangentA;\n  var tangentB = this.tangentB;\n\n  tangentA.x = Math.cos( projectAngle ) * radius * eccen;\n  tangentA.y = Math.sin( projectAngle ) * radius;\n\n  tangentB.set( this.tangentA );\n  tangentB.y *= -1;\n\n  tangentA.rotateZ( apexAngle );\n  tangentB.rotateZ( apexAngle );\n  tangentA.add( this.renderOrigin );\n  tangentB.add( this.renderOrigin );\n\n  this.setSurfaceRenderPoint( 0, tangentA );\n  this.setSurfaceRenderPoint( 1, this.apex.renderOrigin );\n  this.setSurfaceRenderPoint( 2, tangentB );\n\n  // render\n  var elem = this.getSurfaceRenderElement( ctx, renderer );\n  renderer.renderPath( ctx, elem, this.surfacePathCommands );\n  renderer.stroke( ctx, elem, this.stroke, this.color, this.getLineWidth() );\n  renderer.fill( ctx, elem, this.fill, this.color );\n  renderer.end( ctx, elem );\n};\n\nvar svgURI = 'http://www.w3.org/2000/svg';\n\nCone.prototype.getSurfaceRenderElement = function( ctx, renderer ) {\n  if ( !renderer.isSvg ) {\n    return;\n  }\n  if ( !this.surfaceSvgElement ) {\n    // create svgElement\n    this.surfaceSvgElement = document.createElementNS( svgURI, 'path' );\n    this.surfaceSvgElement.setAttribute( 'stroke-linecap', 'round' );\n    this.surfaceSvgElement.setAttribute( 'stroke-linejoin', 'round' );\n  }\n  return this.surfaceSvgElement;\n};\n\nCone.prototype.setSurfaceRenderPoint = function( index, point ) {\n  var renderPoint = this.surfacePathCommands[ index ].renderPoints[0];\n  renderPoint.set( point );\n};\n\nreturn Cone;\n\n} ) );\n","/**\n * Cylinder composite shape\n */\n\n( function( root, factory ) {\n  // module definition\n  if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory( require('./boilerplate'),\n        require('./path-command'), require('./shape'), require('./group'),\n        require('./ellipse') );\n  } else {\n    // browser global\n    var Zdog = root.Zdog;\n    Zdog.Cylinder = factory( Zdog, Zdog.PathCommand, Zdog.Shape,\n        Zdog.Group, Zdog.Ellipse );\n  }\n}( this, function factory( utils, PathCommand, Shape, Group, Ellipse ) {\n\nfunction noop() {}\n\n// ----- CylinderGroup ----- //\n\nvar CylinderGroup = Group.subclass({\n  color: '#333',\n  updateSort: true,\n});\n\nCylinderGroup.prototype.create = function() {\n  Group.prototype.create.apply( this, arguments );\n  this.pathCommands = [\n    new PathCommand( 'move', [ {} ] ),\n    new PathCommand( 'line', [ {} ] ),\n  ];\n};\n\nCylinderGroup.prototype.render = function( ctx, renderer ) {\n  this.renderCylinderSurface( ctx, renderer );\n  Group.prototype.render.apply( this, arguments );\n};\n\nCylinderGroup.prototype.renderCylinderSurface = function( ctx, renderer ) {\n  if ( !this.visible ) {\n    return;\n  }\n  // render cylinder surface\n  var elem = this.getRenderElement( ctx, renderer );\n  var frontBase = this.frontBase;\n  var rearBase = this.rearBase;\n  var scale = frontBase.renderNormal.magnitude();\n  var strokeWidth = frontBase.diameter * scale + frontBase.getLineWidth();\n  // set path command render points\n  this.pathCommands[0].renderPoints[0].set( frontBase.renderOrigin );\n  this.pathCommands[1].renderPoints[0].set( rearBase.renderOrigin );\n\n  if ( renderer.isCanvas ) {\n    ctx.lineCap = 'butt'; // nice\n  }\n  renderer.renderPath( ctx, elem, this.pathCommands );\n  renderer.stroke( ctx, elem, true, this.color, strokeWidth );\n  renderer.end( ctx, elem );\n\n  if ( renderer.isCanvas ) {\n    ctx.lineCap = 'round'; // reset\n  }\n};\n\nvar svgURI = 'http://www.w3.org/2000/svg';\n\nCylinderGroup.prototype.getRenderElement = function( ctx, renderer ) {\n  if ( !renderer.isSvg ) {\n    return;\n  }\n  if ( !this.svgElement ) {\n    // create svgElement\n    this.svgElement = document.createElementNS( svgURI, 'path' );\n  }\n  return this.svgElement;\n};\n\n// prevent double-creation in parent.copyGraph()\n// only create in Cylinder.create()\nCylinderGroup.prototype.copyGraph = noop;\n\n// ----- CylinderEllipse ----- //\n\nvar CylinderEllipse = Ellipse.subclass();\n\nCylinderEllipse.prototype.copyGraph = noop;\n\n// ----- Cylinder ----- //\n\nvar Cylinder = Shape.subclass({\n  diameter: 1,\n  length: 1,\n  frontFace: undefined,\n  fill: true,\n});\n\nvar TAU = utils.TAU;\n\nCylinder.prototype.create = function( /* options */) {\n  // call super\n  Shape.prototype.create.apply( this, arguments );\n  // composite shape, create child shapes\n  // CylinderGroup to render cylinder surface then bases\n  this.group = new CylinderGroup({\n    addTo: this,\n    color: this.color,\n    visible: this.visible,\n  });\n  var baseZ = this.length / 2;\n  var baseColor = this.backface || true;\n  // front outside base\n  this.frontBase = this.group.frontBase = new Ellipse({\n    addTo: this.group,\n    diameter: this.diameter,\n    translate: { z: baseZ },\n    rotate: { y: TAU/2 },\n    color: this.color,\n    stroke: this.stroke,\n    fill: this.fill,\n    backface: this.frontFace || baseColor,\n    visible: this.visible,\n  });\n  // back outside base\n  this.rearBase = this.group.rearBase = this.frontBase.copy({\n    translate: { z: -baseZ },\n    rotate: { y: 0 },\n    backface: baseColor,\n  });\n};\n\n// Cylinder shape does not render anything\nCylinder.prototype.render = function() {};\n\n// ----- set child properties ----- //\n\nvar childProperties = [ 'stroke', 'fill', 'color', 'visible' ];\nchildProperties.forEach( function( property ) {\n  // use proxy property for custom getter & setter\n  var _prop = '_' + property;\n  Object.defineProperty( Cylinder.prototype, property, {\n    get: function() {\n      return this[ _prop ];\n    },\n    set: function( value ) {\n      this[ _prop ] = value;\n      // set property on children\n      if ( this.frontBase ) {\n        this.frontBase[ property ] = value;\n        this.rearBase[ property ] = value;\n        this.group[ property ] = value;\n      }\n    },\n  } );\n} );\n\n// TODO child property setter for backface, frontBaseColor, & rearBaseColor\n\nreturn Cylinder;\n\n} ) );\n","/**\n * Dragger\n */\n\n( function( root, factory ) {\n  // module definition\n  if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory();\n  } else {\n    // browser global\n    root.Zdog.Dragger = factory();\n  }\n}( this, function factory() {\n\n// quick & dirty drag event stuff\n// messes up if multiple pointers/touches\n\n// check for browser window #85\nvar hasWindow = typeof window != 'undefined';\n// event support, default to mouse events\nvar downEvent = 'mousedown';\nvar moveEvent = 'mousemove';\nvar upEvent = 'mouseup';\nif ( hasWindow ) {\n  if ( window.PointerEvent ) {\n    // PointerEvent, Chrome\n    downEvent = 'pointerdown';\n    moveEvent = 'pointermove';\n    upEvent = 'pointerup';\n  } else if ( 'ontouchstart' in window ) {\n    // Touch Events, iOS Safari\n    downEvent = 'touchstart';\n    moveEvent = 'touchmove';\n    upEvent = 'touchend';\n  }\n}\n\nfunction noop() {}\n\nfunction Dragger( options ) {\n  this.create( options || {} );\n}\n\nDragger.prototype.create = function( options ) {\n  this.onDragStart = options.onDragStart || noop;\n  this.onDragMove = options.onDragMove || noop;\n  this.onDragEnd = options.onDragEnd || noop;\n\n  this.bindDrag( options.startElement );\n};\n\nDragger.prototype.bindDrag = function( element ) {\n  element = this.getQueryElement( element );\n  if ( !element ) {\n    return;\n  }\n  // disable browser gestures #53\n  element.style.touchAction = 'none';\n  element.addEventListener( downEvent, this );\n};\n\nDragger.prototype.getQueryElement = function( element ) {\n  if ( typeof element == 'string' ) {\n    // with string, query selector\n    element = document.querySelector( element );\n  }\n  return element;\n};\n\nDragger.prototype.handleEvent = function( event ) {\n  var method = this[ 'on' + event.type ];\n  if ( method ) {\n    method.call( this, event );\n  }\n};\n\nDragger.prototype.onmousedown =\nDragger.prototype.onpointerdown = function( event ) {\n  this.dragStart( event, event );\n};\n\nDragger.prototype.ontouchstart = function( event ) {\n  this.dragStart( event, event.changedTouches[0] );\n};\n\nDragger.prototype.dragStart = function( event, pointer ) {\n  event.preventDefault();\n  this.dragStartX = pointer.pageX;\n  this.dragStartY = pointer.pageY;\n  if ( hasWindow ) {\n    window.addEventListener( moveEvent, this );\n    window.addEventListener( upEvent, this );\n  }\n  this.onDragStart( pointer );\n};\n\nDragger.prototype.ontouchmove = function( event ) {\n  // HACK, moved touch may not be first\n  this.dragMove( event, event.changedTouches[0] );\n};\n\nDragger.prototype.onmousemove =\nDragger.prototype.onpointermove = function( event ) {\n  this.dragMove( event, event );\n};\n\nDragger.prototype.dragMove = function( event, pointer ) {\n  event.preventDefault();\n  var moveX = pointer.pageX - this.dragStartX;\n  var moveY = pointer.pageY - this.dragStartY;\n  this.onDragMove( pointer, moveX, moveY );\n};\n\nDragger.prototype.onmouseup =\nDragger.prototype.onpointerup =\nDragger.prototype.ontouchend =\nDragger.prototype.dragEnd = function( /* event */) {\n  window.removeEventListener( moveEvent, this );\n  window.removeEventListener( upEvent, this );\n  this.onDragEnd();\n};\n\nreturn Dragger;\n\n} ) );\n","/**\n * Ellipse\n */\n\n( function( root, factory ) {\n  // module definition\n  if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory( require('./shape') );\n  } else {\n    // browser global\n    var Zdog = root.Zdog;\n    Zdog.Ellipse = factory( Zdog.Shape );\n  }\n\n}( this, function factory( Shape ) {\n\nvar Ellipse = Shape.subclass({\n  diameter: 1,\n  width: undefined,\n  height: undefined,\n  quarters: 4,\n  closed: false,\n});\n\nEllipse.prototype.setPath = function() {\n  var width = this.width != undefined ? this.width : this.diameter;\n  var height = this.height != undefined ? this.height : this.diameter;\n  var x = width/2;\n  var y = height/2;\n  this.path = [\n    { x: 0, y: -y },\n    { arc: [ // top right\n      { x: x, y: -y },\n      { x: x, y: 0 },\n    ] },\n  ];\n  // bottom right\n  if ( this.quarters > 1 ) {\n    this.path.push({ arc: [\n      { x: x, y: y },\n      { x: 0, y: y },\n    ] });\n  }\n  // bottom left\n  if ( this.quarters > 2 ) {\n    this.path.push({ arc: [\n      { x: -x, y: y },\n      { x: -x, y: 0 },\n    ] });\n  }\n  // top left\n  if ( this.quarters > 3 ) {\n    this.path.push({ arc: [\n      { x: -x, y: -y },\n      { x: 0, y: -y },\n    ] });\n  }\n};\n\nreturn Ellipse;\n\n} ) );\n","/**\n * Group\n */\n\n( function( root, factory ) {\n  // module definition\n  if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory( require('./anchor') );\n  } else {\n    // browser global\n    var Zdog = root.Zdog;\n    Zdog.Group = factory( Zdog.Anchor );\n  }\n}( this, function factory( Anchor ) {\n\nvar Group = Anchor.subclass({\n  updateSort: false,\n  visible: true,\n});\n\n// ----- update ----- //\n\nGroup.prototype.updateSortValue = function() {\n  var sortValueTotal = 0;\n  this.flatGraph.forEach( function( item ) {\n    item.updateSortValue();\n    sortValueTotal += item.sortValue;\n  } );\n  // average sort value of all points\n  // def not geometrically correct, but works for me\n  this.sortValue = sortValueTotal / this.flatGraph.length;\n\n  if ( this.updateSort ) {\n    this.flatGraph.sort( Anchor.shapeSorter );\n  }\n};\n\n// ----- render ----- //\n\nGroup.prototype.render = function( ctx, renderer ) {\n  if ( !this.visible ) {\n    return;\n  }\n\n  this.flatGraph.forEach( function( item ) {\n    item.render( ctx, renderer );\n  } );\n};\n\n// actual group flatGraph only used inside group\nGroup.prototype.updateFlatGraph = function() {\n  // do not include self\n  var flatGraph = [];\n  this.flatGraph = this.addChildFlatGraph( flatGraph );\n};\n\n// do not include children, group handles rendering & sorting internally\nGroup.prototype.getFlatGraph = function() {\n  return [ this ];\n};\n\nreturn Group;\n\n} ) );\n","/**\n * Hemisphere composite shape\n */\n\n( function( root, factory ) {\n  // module definition\n  if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory( require('./boilerplate'), require('./vector'),\n        require('./anchor'), require('./ellipse') );\n  } else {\n    // browser global\n    var Zdog = root.Zdog;\n    Zdog.Hemisphere = factory( Zdog, Zdog.Vector, Zdog.Anchor, Zdog.Ellipse );\n  }\n}( this, function factory( utils, Vector, Anchor, Ellipse ) {\n\nvar Hemisphere = Ellipse.subclass({\n  fill: true,\n});\n\nvar TAU = utils.TAU;\n\nHemisphere.prototype.create = function( /* options */) {\n  // call super\n  Ellipse.prototype.create.apply( this, arguments );\n  // composite shape, create child shapes\n  this.apex = new Anchor({\n    addTo: this,\n    translate: { z: this.diameter / 2 },\n  });\n  // vector used for calculation\n  this.renderCentroid = new Vector();\n};\n\nHemisphere.prototype.updateSortValue = function() {\n  // centroid of hemisphere is 3/8 between origin and apex\n  this.renderCentroid.set( this.renderOrigin )\n    .lerp( this.apex.renderOrigin, 3/8 );\n  this.sortValue = this.renderCentroid.z;\n};\n\nHemisphere.prototype.render = function( ctx, renderer ) {\n  this.renderDome( ctx, renderer );\n  // call super\n  Ellipse.prototype.render.apply( this, arguments );\n};\n\nHemisphere.prototype.renderDome = function( ctx, renderer ) {\n  if ( !this.visible ) {\n    return;\n  }\n  var elem = this.getDomeRenderElement( ctx, renderer );\n  var contourAngle = Math.atan2( this.renderNormal.y, this.renderNormal.x );\n  var domeRadius = this.diameter / 2 * this.renderNormal.magnitude();\n  var x = this.renderOrigin.x;\n  var y = this.renderOrigin.y;\n\n  if ( renderer.isCanvas ) {\n    // canvas\n    var startAngle = contourAngle + TAU/4;\n    var endAngle = contourAngle - TAU/4;\n    ctx.beginPath();\n    ctx.arc( x, y, domeRadius, startAngle, endAngle );\n  } else if ( renderer.isSvg ) {\n    // svg\n    contourAngle = ( contourAngle - TAU/4 ) / TAU * 360;\n    this.domeSvgElement.setAttribute( 'd', 'M ' + -domeRadius + ',0 A ' +\n        domeRadius + ',' + domeRadius + ' 0 0 1 ' + domeRadius + ',0' );\n    this.domeSvgElement.setAttribute( 'transform',\n        'translate(' + x + ',' + y + ' ) rotate(' + contourAngle + ')' );\n  }\n\n  renderer.stroke( ctx, elem, this.stroke, this.color, this.getLineWidth() );\n  renderer.fill( ctx, elem, this.fill, this.color );\n  renderer.end( ctx, elem );\n};\n\nvar svgURI = 'http://www.w3.org/2000/svg';\n\nHemisphere.prototype.getDomeRenderElement = function( ctx, renderer ) {\n  if ( !renderer.isSvg ) {\n    return;\n  }\n  if ( !this.domeSvgElement ) {\n    // create svgElement\n    this.domeSvgElement = document.createElementNS( svgURI, 'path' );\n    this.domeSvgElement.setAttribute( 'stroke-linecap', 'round' );\n    this.domeSvgElement.setAttribute( 'stroke-linejoin', 'round' );\n  }\n  return this.domeSvgElement;\n};\n\nreturn Hemisphere;\n\n} ) );\n","/**\n * Illustration\n */\n\n( function( root, factory ) {\n  // module definition\n  if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory( require('./boilerplate'), require('./anchor'),\n        require('./dragger') );\n  } else {\n    // browser global\n    var Zdog = root.Zdog;\n    Zdog.Illustration = factory( Zdog, Zdog.Anchor, Zdog.Dragger );\n  }\n}( this, function factory( utils, Anchor, Dragger ) {\n\nfunction noop() {}\nvar TAU = utils.TAU;\n\nvar Illustration = Anchor.subclass({\n  element: undefined,\n  centered: true,\n  zoom: 1,\n  dragRotate: false,\n  resize: false,\n  onPrerender: noop,\n  onDragStart: noop,\n  onDragMove: noop,\n  onDragEnd: noop,\n  onResize: noop,\n});\n\nutils.extend( Illustration.prototype, Dragger.prototype );\n\nIllustration.prototype.create = function( options ) {\n  Anchor.prototype.create.call( this, options );\n  Dragger.prototype.create.call( this, options );\n  this.setElement( this.element );\n  this.setDragRotate( this.dragRotate );\n  this.setResize( this.resize );\n};\n\nIllustration.prototype.setElement = function( element ) {\n  element = this.getQueryElement( element );\n  if ( !element ) {\n    throw new Error( 'Zdog.Illustration element required. Set to ' + element );\n  }\n\n  var nodeName = element.nodeName.toLowerCase();\n  if ( nodeName == 'canvas' ) {\n    this.setCanvas( element );\n  } else if ( nodeName == 'svg' ) {\n    this.setSvg( element );\n  }\n};\n\nIllustration.prototype.setSize = function( width, height ) {\n  width = Math.round( width );\n  height = Math.round( height );\n  if ( this.isCanvas ) {\n    this.setSizeCanvas( width, height );\n  } else if ( this.isSvg ) {\n    this.setSizeSvg( width, height );\n  }\n};\n\nIllustration.prototype.setResize = function( resize ) {\n  this.resize = resize;\n  // create resize event listener\n  if ( !this.resizeListener ) {\n    this.resizeListener = this.onWindowResize.bind( this );\n  }\n  // add/remove event listener\n  if ( resize ) {\n    window.addEventListener( 'resize', this.resizeListener );\n    this.onWindowResize();\n  } else {\n    window.removeEventListener( 'resize', this.resizeListener );\n  }\n};\n\n// TODO debounce this?\nIllustration.prototype.onWindowResize = function() {\n  this.setMeasuredSize();\n  this.onResize( this.width, this.height );\n};\n\nIllustration.prototype.setMeasuredSize = function() {\n  var width, height;\n  var isFullscreen = this.resize == 'fullscreen';\n  if ( isFullscreen ) {\n    width = window.innerWidth;\n    height = window.innerHeight;\n  } else {\n    var rect = this.element.getBoundingClientRect();\n    width = rect.width;\n    height = rect.height;\n  }\n  this.setSize( width, height );\n};\n\n// ----- render ----- //\n\nIllustration.prototype.renderGraph = function( item ) {\n  if ( this.isCanvas ) {\n    this.renderGraphCanvas( item );\n  } else if ( this.isSvg ) {\n    this.renderGraphSvg( item );\n  }\n};\n\n// combo method\nIllustration.prototype.updateRenderGraph = function( item ) {\n  this.updateGraph();\n  this.renderGraph( item );\n};\n\n// ----- canvas ----- //\n\nIllustration.prototype.setCanvas = function( element ) {\n  this.element = element;\n  this.isCanvas = true;\n  // update related properties\n  this.ctx = this.element.getContext('2d');\n  // set initial size\n  this.setSizeCanvas( element.width, element.height );\n};\n\nIllustration.prototype.setSizeCanvas = function( width, height ) {\n  this.width = width;\n  this.height = height;\n  // up-rez for hi-DPI devices\n  var pixelRatio = this.pixelRatio = window.devicePixelRatio || 1;\n  this.element.width = this.canvasWidth = width * pixelRatio;\n  this.element.height = this.canvasHeight = height * pixelRatio;\n  var needsHighPixelRatioSizing = pixelRatio > 1 && !this.resize;\n  if ( needsHighPixelRatioSizing ) {\n    this.element.style.width = width + 'px';\n    this.element.style.height = height + 'px';\n  }\n};\n\nIllustration.prototype.renderGraphCanvas = function( item ) {\n  item = item || this;\n  this.prerenderCanvas();\n  Anchor.prototype.renderGraphCanvas.call( item, this.ctx );\n  this.postrenderCanvas();\n};\n\nIllustration.prototype.prerenderCanvas = function() {\n  var ctx = this.ctx;\n  ctx.lineCap = 'round';\n  ctx.lineJoin = 'round';\n  ctx.clearRect( 0, 0, this.canvasWidth, this.canvasHeight );\n  ctx.save();\n  if ( this.centered ) {\n    var centerX = this.width / 2 * this.pixelRatio;\n    var centerY = this.height / 2 * this.pixelRatio;\n    ctx.translate( centerX, centerY );\n  }\n  var scale = this.pixelRatio * this.zoom;\n  ctx.scale( scale, scale );\n  this.onPrerender( ctx );\n};\n\nIllustration.prototype.postrenderCanvas = function() {\n  this.ctx.restore();\n};\n\n// ----- svg ----- //\n\nIllustration.prototype.setSvg = function( element ) {\n  this.element = element;\n  this.isSvg = true;\n  this.pixelRatio = 1;\n  // set initial size from width & height attributes\n  var width = element.getAttribute('width');\n  var height = element.getAttribute('height');\n  this.setSizeSvg( width, height );\n};\n\nIllustration.prototype.setSizeSvg = function( width, height ) {\n  this.width = width;\n  this.height = height;\n  var viewWidth = width / this.zoom;\n  var viewHeight = height / this.zoom;\n  var viewX = this.centered ? -viewWidth/2 : 0;\n  var viewY = this.centered ? -viewHeight/2 : 0;\n  this.element.setAttribute( 'viewBox', viewX + ' ' + viewY + ' ' +\n    viewWidth + ' ' + viewHeight );\n  if ( this.resize ) {\n    // remove size attributes, let size be determined by viewbox\n    this.element.removeAttribute('width');\n    this.element.removeAttribute('height');\n  } else {\n    this.element.setAttribute( 'width', width );\n    this.element.setAttribute( 'height', height );\n  }\n};\n\nIllustration.prototype.renderGraphSvg = function( item ) {\n  item = item || this;\n  empty( this.element );\n  this.onPrerender( this.element );\n  Anchor.prototype.renderGraphSvg.call( item, this.element );\n};\n\nfunction empty( element ) {\n  while ( element.firstChild ) {\n    element.removeChild( element.firstChild );\n  }\n}\n\n// ----- drag ----- //\n\nIllustration.prototype.setDragRotate = function( item ) {\n  if ( !item ) {\n    return;\n  } else if ( item === true ) {\n    /* eslint consistent-this: \"off\" */\n    item = this;\n  }\n  this.dragRotate = item;\n\n  this.bindDrag( this.element );\n};\n\nIllustration.prototype.dragStart = function( /* event, pointer */) {\n  this.dragStartRX = this.dragRotate.rotate.x;\n  this.dragStartRY = this.dragRotate.rotate.y;\n  Dragger.prototype.dragStart.apply( this, arguments );\n};\n\nIllustration.prototype.dragMove = function( event, pointer ) {\n  var moveX = pointer.pageX - this.dragStartX;\n  var moveY = pointer.pageY - this.dragStartY;\n  var displaySize = Math.min( this.width, this.height );\n  var moveRY = moveX/displaySize * TAU;\n  var moveRX = moveY/displaySize * TAU;\n  this.dragRotate.rotate.x = this.dragStartRX - moveRX;\n  this.dragRotate.rotate.y = this.dragStartRY - moveRY;\n  Dragger.prototype.dragMove.apply( this, arguments );\n};\n\nreturn Illustration;\n\n} ) );\n","/**\n * Index\n */\n\n( function( root, factory ) {\n  // module definition\n  if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n        require('./boilerplate'),\n        require('./canvas-renderer'),\n        require('./svg-renderer'),\n        require('./vector'),\n        require('./anchor'),\n        require('./dragger'),\n        require('./illustration'),\n        require('./path-command'),\n        require('./shape'),\n        require('./group'),\n        require('./rect'),\n        require('./rounded-rect'),\n        require('./ellipse'),\n        require('./polygon'),\n        require('./hemisphere'),\n        require('./cylinder'),\n        require('./cone'),\n        require('./box')\n    );\n  } else if ( typeof define == 'function' && define.amd ) {\n    /* globals define */ // AMD\n    define( 'zdog', [], root.Zdog );\n  }\n/* eslint-disable max-params */\n} )( this, function factory( Zdog, CanvasRenderer, SvgRenderer, Vector, Anchor,\n    Dragger, Illustration, PathCommand, Shape, Group, Rect, RoundedRect,\n    Ellipse, Polygon, Hemisphere, Cylinder, Cone, Box ) {\n/* eslint-enable max-params */\n\n      Zdog.CanvasRenderer = CanvasRenderer;\n      Zdog.SvgRenderer = SvgRenderer;\n      Zdog.Vector = Vector;\n      Zdog.Anchor = Anchor;\n      Zdog.Dragger = Dragger;\n      Zdog.Illustration = Illustration;\n      Zdog.PathCommand = PathCommand;\n      Zdog.Shape = Shape;\n      Zdog.Group = Group;\n      Zdog.Rect = Rect;\n      Zdog.RoundedRect = RoundedRect;\n      Zdog.Ellipse = Ellipse;\n      Zdog.Polygon = Polygon;\n      Zdog.Hemisphere = Hemisphere;\n      Zdog.Cylinder = Cylinder;\n      Zdog.Cone = Cone;\n      Zdog.Box = Box;\n\n      return Zdog;\n} );\n","/**\n * PathCommand\n */\n\n( function( root, factory ) {\n  // module definition\n  if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory( require('./vector') );\n  } else {\n    // browser global\n    var Zdog = root.Zdog;\n    Zdog.PathCommand = factory( Zdog.Vector );\n  }\n}( this, function factory( Vector ) {\n\nfunction PathCommand( method, points, previousPoint ) {\n  this.method = method;\n  this.points = points.map( mapVectorPoint );\n  this.renderPoints = points.map( mapNewVector );\n  this.previousPoint = previousPoint;\n  this.endRenderPoint = this.renderPoints[ this.renderPoints.length - 1 ];\n  // arc actions come with previous point & corner point\n  // but require bezier control points\n  if ( method == 'arc' ) {\n    this.controlPoints = [ new Vector(), new Vector() ];\n  }\n}\n\nfunction mapVectorPoint( point ) {\n  if ( point instanceof Vector ) {\n    return point;\n  } else {\n    return new Vector( point );\n  }\n}\n\nfunction mapNewVector( point ) {\n  return new Vector( point );\n}\n\nPathCommand.prototype.reset = function() {\n  // reset renderPoints back to orignal points position\n  var points = this.points;\n  this.renderPoints.forEach( function( renderPoint, i ) {\n    var point = points[i];\n    renderPoint.set( point );\n  } );\n};\n\nPathCommand.prototype.transform = function( translation, rotation, scale ) {\n  this.renderPoints.forEach( function( renderPoint ) {\n    renderPoint.transform( translation, rotation, scale );\n  } );\n};\n\nPathCommand.prototype.render = function( ctx, elem, renderer ) {\n  return this[ this.method ]( ctx, elem, renderer );\n};\n\nPathCommand.prototype.move = function( ctx, elem, renderer ) {\n  return renderer.move( ctx, elem, this.renderPoints[0] );\n};\n\nPathCommand.prototype.line = function( ctx, elem, renderer ) {\n  return renderer.line( ctx, elem, this.renderPoints[0] );\n};\n\nPathCommand.prototype.bezier = function( ctx, elem, renderer ) {\n  var cp0 = this.renderPoints[0];\n  var cp1 = this.renderPoints[1];\n  var end = this.renderPoints[2];\n  return renderer.bezier( ctx, elem, cp0, cp1, end );\n};\n\nvar arcHandleLength = 9/16;\n\nPathCommand.prototype.arc = function( ctx, elem, renderer ) {\n  var prev = this.previousPoint;\n  var corner = this.renderPoints[0];\n  var end = this.renderPoints[1];\n  var cp0 = this.controlPoints[0];\n  var cp1 = this.controlPoints[1];\n  cp0.set( prev ).lerp( corner, arcHandleLength );\n  cp1.set( end ).lerp( corner, arcHandleLength );\n  return renderer.bezier( ctx, elem, cp0, cp1, end );\n};\n\nreturn PathCommand;\n\n} ) );\n","/**\n * Shape\n */\n\n( function( root, factory ) {\n  // module definition\n  if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory( require('./boilerplate'), require('./shape') );\n  } else {\n    // browser global\n    var Zdog = root.Zdog;\n    Zdog.Polygon = factory( Zdog, Zdog.Shape );\n  }\n}( this, function factory( utils, Shape ) {\n\nvar Polygon = Shape.subclass({\n  sides: 3,\n  radius: 0.5,\n});\n\nvar TAU = utils.TAU;\n\nPolygon.prototype.setPath = function() {\n  this.path = [];\n  for ( var i = 0; i < this.sides; i++ ) {\n    var theta = i / this.sides * TAU - TAU/4;\n    var x = Math.cos( theta ) * this.radius;\n    var y = Math.sin( theta ) * this.radius;\n    this.path.push({ x: x, y: y });\n  }\n};\n\nreturn Polygon;\n\n} ) );\n","/**\n * Rect\n */\n\n( function( root, factory ) {\n  // module definition\n  if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory( require('./shape') );\n  } else {\n    // browser global\n    var Zdog = root.Zdog;\n    Zdog.Rect = factory( Zdog.Shape );\n  }\n}( this, function factory( Shape ) {\n\nvar Rect = Shape.subclass({\n  width: 1,\n  height: 1,\n});\n\nRect.prototype.setPath = function() {\n  var x = this.width / 2;\n  var y = this.height / 2;\n  /* eslint key-spacing: \"off\" */\n  this.path = [\n    { x: -x, y: -y },\n    { x:  x, y: -y },\n    { x:  x, y:  y },\n    { x: -x, y:  y },\n  ];\n};\n\nreturn Rect;\n\n} ) );\n","/**\n * RoundedRect\n */\n\n( function( root, factory ) {\n  // module definition\n  if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory( require('./shape') );\n  } else {\n    // browser global\n    var Zdog = root.Zdog;\n    Zdog.RoundedRect = factory( Zdog.Shape );\n  }\n}( this, function factory( Shape ) {\n\nvar RoundedRect = Shape.subclass({\n  width: 1,\n  height: 1,\n  cornerRadius: 0.25,\n  closed: false,\n});\n\nRoundedRect.prototype.setPath = function() {\n  /* eslint\n     id-length: [ \"error\", { \"min\": 2, \"exceptions\": [ \"x\", \"y\" ] }],\n     key-spacing: \"off\" */\n  var xA = this.width / 2;\n  var yA = this.height / 2;\n  var shortSide = Math.min( xA, yA );\n  var cornerRadius = Math.min( this.cornerRadius, shortSide );\n  var xB = xA - cornerRadius;\n  var yB = yA - cornerRadius;\n  var path = [\n    // top right corner\n    { x: xB, y: -yA },\n    { arc: [\n      { x: xA, y: -yA },\n      { x: xA, y: -yB },\n    ] },\n  ];\n  // bottom right corner\n  if ( yB ) {\n    path.push({ x: xA, y: yB });\n  }\n  path.push({ arc: [\n    { x: xA, y:  yA },\n    { x: xB, y:  yA },\n  ] });\n  // bottom left corner\n  if ( xB ) {\n    path.push({ x: -xB, y: yA });\n  }\n  path.push({ arc: [\n    { x: -xA, y:  yA },\n    { x: -xA, y:  yB },\n  ] });\n  // top left corner\n  if ( yB ) {\n    path.push({ x: -xA, y: -yB });\n  }\n  path.push({ arc: [\n    { x: -xA, y: -yA },\n    { x: -xB, y: -yA },\n  ] });\n\n  // back to top right corner\n  if ( xB ) {\n    path.push({ x: xB, y: -yA });\n  }\n\n  this.path = path;\n};\n\nreturn RoundedRect;\n\n} ) );\n","/**\n * Shape\n */\n\n( function( root, factory ) {\n  // module definition\n  if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory( require('./boilerplate'), require('./vector'),\n        require('./path-command'), require('./anchor') );\n  } else {\n    // browser global\n    var Zdog = root.Zdog;\n    Zdog.Shape = factory( Zdog, Zdog.Vector, Zdog.PathCommand, Zdog.Anchor );\n  }\n}( this, function factory( utils, Vector, PathCommand, Anchor ) {\n\nvar Shape = Anchor.subclass({\n  stroke: 1,\n  fill: false,\n  color: '#333',\n  closed: true,\n  visible: true,\n  path: [ {} ],\n  front: { z: 1 },\n  backface: true,\n});\n\nShape.prototype.create = function( options ) {\n  Anchor.prototype.create.call( this, options );\n  this.updatePath();\n  // front\n  this.front = new Vector( options.front || this.front );\n  this.renderFront = new Vector( this.front );\n  this.renderNormal = new Vector();\n};\n\nvar actionNames = [\n  'move',\n  'line',\n  'bezier',\n  'arc',\n];\n\nShape.prototype.updatePath = function() {\n  this.setPath();\n  this.updatePathCommands();\n};\n\n// place holder for Ellipse, Rect, etc.\nShape.prototype.setPath = function() {};\n\n// parse path into PathCommands\nShape.prototype.updatePathCommands = function() {\n  var previousPoint;\n  this.pathCommands = this.path.map( function( pathPart, i ) {\n    // pathPart can be just vector coordinates -> { x, y, z }\n    // or path instruction -> { arc: [ {x0,y0,z0}, {x1,y1,z1} ] }\n    var keys = Object.keys( pathPart );\n    var method = keys[0];\n    var points = pathPart[ method ];\n    // default to line if no instruction\n    var isInstruction = keys.length == 1 && actionNames.indexOf( method ) != -1;\n    if ( !isInstruction ) {\n      method = 'line';\n      points = pathPart;\n    }\n    // munge single-point methods like line & move without arrays\n    var isLineOrMove = method == 'line' || method == 'move';\n    var isPointsArray = Array.isArray( points );\n    if ( isLineOrMove && !isPointsArray ) {\n      points = [ points ];\n    }\n\n    // first action is always move\n    method = i === 0 ? 'move' : method;\n    // arcs require previous last point\n    var command = new PathCommand( method, points, previousPoint );\n    // update previousLastPoint\n    previousPoint = command.endRenderPoint;\n    return command;\n  } );\n};\n\n// ----- update ----- //\n\nShape.prototype.reset = function() {\n  this.renderOrigin.set( this.origin );\n  this.renderFront.set( this.front );\n  // reset command render points\n  this.pathCommands.forEach( function( command ) {\n    command.reset();\n  } );\n};\n\nShape.prototype.transform = function( translation, rotation, scale ) {\n  // calculate render points backface visibility & cone/hemisphere shapes\n  this.renderOrigin.transform( translation, rotation, scale );\n  this.renderFront.transform( translation, rotation, scale );\n  this.renderNormal.set( this.renderOrigin ).subtract( this.renderFront );\n  // transform points\n  this.pathCommands.forEach( function( command ) {\n    command.transform( translation, rotation, scale );\n  } );\n  // transform children\n  this.children.forEach( function( child ) {\n    child.transform( translation, rotation, scale );\n  } );\n};\n\nShape.prototype.updateSortValue = function() {\n  // sort by average z of all points\n  // def not geometrically correct, but works for me\n  var pointCount = this.pathCommands.length;\n  var firstPoint = this.pathCommands[0].endRenderPoint;\n  var lastPoint = this.pathCommands[ pointCount - 1 ].endRenderPoint;\n  // ignore the final point if self closing shape\n  var isSelfClosing = pointCount > 2 && firstPoint.isSame( lastPoint );\n  if ( isSelfClosing ) {\n    pointCount -= 1;\n  }\n\n  var sortValueTotal = 0;\n  for ( var i = 0; i < pointCount; i++ ) {\n    sortValueTotal += this.pathCommands[i].endRenderPoint.z;\n  }\n  this.sortValue = sortValueTotal/pointCount;\n};\n\n// ----- render ----- //\n\nShape.prototype.render = function( ctx, renderer ) {\n  var length = this.pathCommands.length;\n  if ( !this.visible || !length ) {\n    return;\n  }\n  // do not render if hiding backface\n  this.isFacingBack = this.renderNormal.z > 0;\n  if ( !this.backface && this.isFacingBack ) {\n    return;\n  }\n  if ( !renderer ) {\n    throw new Error( 'Zdog renderer required. Set to ' + renderer );\n  }\n  // render dot or path\n  var isDot = length == 1;\n  if ( renderer.isCanvas && isDot ) {\n    this.renderCanvasDot( ctx, renderer );\n  } else {\n    this.renderPath( ctx, renderer );\n  }\n};\n\nvar TAU = utils.TAU;\n// Safari does not render lines with no size, have to render circle instead\nShape.prototype.renderCanvasDot = function( ctx ) {\n  var lineWidth = this.getLineWidth();\n  if ( !lineWidth ) {\n    return;\n  }\n  ctx.fillStyle = this.getRenderColor();\n  var point = this.pathCommands[0].endRenderPoint;\n  ctx.beginPath();\n  var radius = lineWidth/2;\n  ctx.arc( point.x, point.y, radius, 0, TAU );\n  ctx.fill();\n};\n\nShape.prototype.getLineWidth = function() {\n  if ( !this.stroke ) {\n    return 0;\n  }\n  if ( this.stroke == true ) {\n    return 1;\n  }\n  return this.stroke;\n};\n\nShape.prototype.getRenderColor = function() {\n  // use backface color if applicable\n  var isBackfaceColor = typeof this.backface == 'string' && this.isFacingBack;\n  var color = isBackfaceColor ? this.backface : this.color;\n  return color;\n};\n\nShape.prototype.renderPath = function( ctx, renderer ) {\n  var elem = this.getRenderElement( ctx, renderer );\n  var isTwoPoints = this.pathCommands.length == 2 &&\n    this.pathCommands[1].method == 'line';\n  var isClosed = !isTwoPoints && this.closed;\n  var color = this.getRenderColor();\n\n  renderer.renderPath( ctx, elem, this.pathCommands, isClosed );\n  renderer.stroke( ctx, elem, this.stroke, color, this.getLineWidth() );\n  renderer.fill( ctx, elem, this.fill, color );\n  renderer.end( ctx, elem );\n};\n\nvar svgURI = 'http://www.w3.org/2000/svg';\n\nShape.prototype.getRenderElement = function( ctx, renderer ) {\n  if ( !renderer.isSvg ) {\n    return;\n  }\n  if ( !this.svgElement ) {\n    // create svgElement\n    this.svgElement = document.createElementNS( svgURI, 'path' );\n    this.svgElement.setAttribute( 'stroke-linecap', 'round' );\n    this.svgElement.setAttribute( 'stroke-linejoin', 'round' );\n  }\n  return this.svgElement;\n};\n\nreturn Shape;\n\n} ) );\n","/**\n * SvgRenderer\n */\n\n( function( root, factory ) {\n  // module definition\n  if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory();\n  } else {\n    // browser global\n    root.Zdog.SvgRenderer = factory();\n  }\n}( this, function factory() {\n\nvar SvgRenderer = { isSvg: true };\n\n// round path coordinates to 3 decimals\nvar round = SvgRenderer.round = function( num ) {\n  return Math.round( num * 1000 ) / 1000;\n};\n\nfunction getPointString( point ) {\n  return round( point.x ) + ',' + round( point.y ) + ' ';\n}\n\nSvgRenderer.begin = function() {};\n\nSvgRenderer.move = function( svg, elem, point ) {\n  return 'M' + getPointString( point );\n};\n\nSvgRenderer.line = function( svg, elem, point ) {\n  return 'L' + getPointString( point );\n};\n\nSvgRenderer.bezier = function( svg, elem, cp0, cp1, end ) {\n  return 'C' + getPointString( cp0 ) + getPointString( cp1 ) +\n    getPointString( end );\n};\n\nSvgRenderer.closePath = function( /* elem */) {\n  return 'Z';\n};\n\nSvgRenderer.setPath = function( svg, elem, pathValue ) {\n  elem.setAttribute( 'd', pathValue );\n};\n\nSvgRenderer.renderPath = function( svg, elem, pathCommands, isClosed ) {\n  var pathValue = '';\n  pathCommands.forEach( function( command ) {\n    pathValue += command.render( svg, elem, SvgRenderer );\n  } );\n  if ( isClosed ) {\n    pathValue += this.closePath( svg, elem );\n  }\n  this.setPath( svg, elem, pathValue );\n};\n\nSvgRenderer.stroke = function( svg, elem, isStroke, color, lineWidth ) {\n  if ( !isStroke ) {\n    return;\n  }\n  elem.setAttribute( 'stroke', color );\n  elem.setAttribute( 'stroke-width', lineWidth );\n};\n\nSvgRenderer.fill = function( svg, elem, isFill, color ) {\n  var fillColor = isFill ? color : 'none';\n  elem.setAttribute( 'fill', fillColor );\n};\n\nSvgRenderer.end = function( svg, elem ) {\n  svg.appendChild( elem );\n};\n\nreturn SvgRenderer;\n\n} ) );\n","/**\n * Vector\n */\n\n( function( root, factory ) {\n  // module definition\n  if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory( require('./boilerplate') );\n  } else {\n    // browser global\n    var Zdog = root.Zdog;\n    Zdog.Vector = factory( Zdog );\n  }\n\n}( this, function factory( utils ) {\n\nfunction Vector( position ) {\n  this.set( position );\n}\n\nvar TAU = utils.TAU;\n\n// 'pos' = 'position'\nVector.prototype.set = function( pos ) {\n  this.x = pos && pos.x || 0;\n  this.y = pos && pos.y || 0;\n  this.z = pos && pos.z || 0;\n  return this;\n};\n\n// set coordinates without sanitizing\n// vec.write({ y: 2 }) only sets y coord\nVector.prototype.write = function( pos ) {\n  if ( !pos ) {\n    return this;\n  }\n  this.x = pos.x != undefined ? pos.x : this.x;\n  this.y = pos.y != undefined ? pos.y : this.y;\n  this.z = pos.z != undefined ? pos.z : this.z;\n  return this;\n};\n\nVector.prototype.rotate = function( rotation ) {\n  if ( !rotation ) {\n    return;\n  }\n  this.rotateZ( rotation.z );\n  this.rotateY( rotation.y );\n  this.rotateX( rotation.x );\n  return this;\n};\n\nVector.prototype.rotateZ = function( angle ) {\n  rotateProperty( this, angle, 'x', 'y' );\n};\n\nVector.prototype.rotateX = function( angle ) {\n  rotateProperty( this, angle, 'y', 'z' );\n};\n\nVector.prototype.rotateY = function( angle ) {\n  rotateProperty( this, angle, 'x', 'z' );\n};\n\nfunction rotateProperty( vec, angle, propA, propB ) {\n  if ( !angle || angle % TAU === 0 ) {\n    return;\n  }\n  var cos = Math.cos( angle );\n  var sin = Math.sin( angle );\n  var a = vec[ propA ];\n  var b = vec[ propB ];\n  vec[ propA ] = a * cos - b * sin;\n  vec[ propB ] = b * cos + a * sin;\n}\n\nVector.prototype.isSame = function( pos ) {\n  if ( !pos ) {\n    return false;\n  }\n  return this.x === pos.x && this.y === pos.y && this.z === pos.z;\n};\n\nVector.prototype.add = function( pos ) {\n  if ( !pos ) {\n    return this;\n  }\n  this.x += pos.x || 0;\n  this.y += pos.y || 0;\n  this.z += pos.z || 0;\n  return this;\n};\n\nVector.prototype.subtract = function( pos ) {\n  if ( !pos ) {\n    return this;\n  }\n  this.x -= pos.x || 0;\n  this.y -= pos.y || 0;\n  this.z -= pos.z || 0;\n  return this;\n};\n\nVector.prototype.multiply = function( pos ) {\n  if ( pos == undefined ) {\n    return this;\n  }\n  // multiple all values by same number\n  if ( typeof pos == 'number' ) {\n    this.x *= pos;\n    this.y *= pos;\n    this.z *= pos;\n  } else {\n    // multiply object\n    this.x *= pos.x != undefined ? pos.x : 1;\n    this.y *= pos.y != undefined ? pos.y : 1;\n    this.z *= pos.z != undefined ? pos.z : 1;\n  }\n  return this;\n};\n\nVector.prototype.transform = function( translation, rotation, scale ) {\n  this.multiply( scale );\n  this.rotate( rotation );\n  this.add( translation );\n  return this;\n};\n\nVector.prototype.lerp = function( pos, alpha ) {\n  this.x = utils.lerp( this.x, pos.x || 0, alpha );\n  this.y = utils.lerp( this.y, pos.y || 0, alpha );\n  this.z = utils.lerp( this.z, pos.z || 0, alpha );\n  return this;\n};\n\nVector.prototype.magnitude = function() {\n  var sum = this.x * this.x + this.y * this.y + this.z * this.z;\n  return getMagnitudeSqrt( sum );\n};\n\nfunction getMagnitudeSqrt( sum ) {\n  // PERF: check if sum ~= 1 and skip sqrt\n  if ( Math.abs( sum - 1 ) < 0.00000001 ) {\n    return 1;\n  }\n  return Math.sqrt( sum );\n}\n\nVector.prototype.magnitude2d = function() {\n  var sum = this.x * this.x + this.y * this.y;\n  return getMagnitudeSqrt( sum );\n};\n\nVector.prototype.copy = function() {\n  return new Vector( this );\n};\n\nreturn Vector;\n\n} ) );\n"],"names":["root","factory","module","exports","require","Zdog","Anchor","Vector","CanvasRenderer","SvgRenderer","this","utils","TAU","onePoint","x","y","z","options","create","getSubclass","Super","defaults","Item","prototype","Object","constructor","extend","optionKeys","slice","keys","forEach","key","indexOf","push","subclass","children","setOptions","translate","rotate","scale","multiply","origin","renderOrigin","addTo","addChild","concat","shape","remove","removeChild","index","splice","update","reset","child","transform","set","translation","rotation","updateGraph","updateFlatGraph","flatGraph","item","updateSortValue","sort","shapeSorter","a","b","sortValue","defineProperty","get","_flatGraph","graph","getFlatGraph","addChildFlatGraph","childFlatGraph","Array","apply","render","renderGraphCanvas","ctx","Error","renderGraphSvg","svg","copy","itemOptions","ItemClass","copyGraph","clone","normalizeRotate","modulo","Math","PI","prop","lerp","alpha","num","div","powerMultipliers","easeInOut","power","max","min","isFirstHalf","slope","powerMultiplier","curve","Box","Shape","Rect","BoxRect","faceNames","boxDefaults","path","faceName","width","height","depth","fill","call","updatePath","_faceName","value","setFace","rectProperty","rect","getFaceOptions","color","frontFace","rearFace","leftFace","rightFace","topFace","bottomFace","childProperties","property","_prop","isFaceColor","isColorUnderwrite","isCanvas","beginPath","elem","point","moveTo","lineTo","cp0","cp1","end","bezierCurveTo","closePath","pathCommands","isClosed","begin","command","isStroke","lineWidth","strokeStyle","stroke","isFill","fillStyle","Cone","PathCommand","Ellipse","length","arguments","apex","renderApex","renderCentroid","tangentA","tangentB","surfacePathCommands","renderer","renderConeSurface","visible","subtract","renderNormal","magnitude","apexDistance","magnitude2d","normalDistance","eccenAngle","acos","eccen","sin","radius","diameter","isApexVisible","apexAngle","atan2","projectLength","projectAngle","cos","rotateZ","add","setSurfaceRenderPoint","getSurfaceRenderElement","renderPath","getLineWidth","svgURI","isSvg","surfaceSvgElement","document","createElementNS","setAttribute","renderPoint","renderPoints","Cylinder","Group","noop","CylinderGroup","updateSort","renderCylinderSurface","getRenderElement","frontBase","rearBase","strokeWidth","lineCap","svgElement","CylinderEllipse","undefined","group","baseZ","baseColor","backface","Dragger","hasWindow","window","downEvent","moveEvent","upEvent","PointerEvent","onDragStart","onDragMove","onDragEnd","bindDrag","startElement","element","getQueryElement","style","touchAction","addEventListener","querySelector","handleEvent","event","method","type","onmousedown","onpointerdown","dragStart","ontouchstart","changedTouches","pointer","preventDefault","dragStartX","pageX","dragStartY","pageY","ontouchmove","dragMove","onmousemove","onpointermove","moveX","moveY","onmouseup","onpointerup","ontouchend","dragEnd","removeEventListener","quarters","closed","setPath","arc","sortValueTotal","Hemisphere","renderDome","getDomeRenderElement","contourAngle","domeRadius","startAngle","endAngle","domeSvgElement","Illustration","centered","zoom","dragRotate","resize","onPrerender","onResize","empty","firstChild","setElement","setDragRotate","setResize","nodeName","toLowerCase","setCanvas","setSvg","setSize","round","setSizeCanvas","setSizeSvg","resizeListener","onWindowResize","bind","setMeasuredSize","isFullscreen","innerWidth","innerHeight","getBoundingClientRect","renderGraph","updateRenderGraph","getContext","pixelRatio","devicePixelRatio","canvasWidth","canvasHeight","needsHighPixelRatioSizing","prerenderCanvas","postrenderCanvas","lineJoin","clearRect","save","centerX","centerY","restore","getAttribute","viewWidth","viewHeight","viewX","viewY","removeAttribute","dragStartRX","dragStartRY","displaySize","moveRY","moveRX","define","RoundedRect","Polygon","points","previousPoint","map","mapVectorPoint","mapNewVector","endRenderPoint","controlPoints","i","move","line","bezier","arcHandleLength","prev","corner","sides","theta","cornerRadius","xA","yA","shortSide","xB","yB","front","renderFront","actionNames","updatePathCommands","pathPart","isInstruction","isLineOrMove","isPointsArray","isArray","pointCount","firstPoint","lastPoint","isSelfClosing","isSame","isFacingBack","isDot","renderCanvasDot","getRenderColor","isBackfaceColor","isTwoPoints","getPointString","pathValue","fillColor","appendChild","position","rotateProperty","vec","angle","propA","propB","getMagnitudeSqrt","sum","abs","sqrt","pos","write","rotateY","rotateX"],"sourceRoot":""}